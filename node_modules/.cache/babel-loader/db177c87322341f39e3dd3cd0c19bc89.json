{"ast":null,"code":"import _classCallCheck from\"/Users/maksymkovalenko/GOIT-FE-COURSE/React/react-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/maksymkovalenko/GOIT-FE-COURSE/React/react-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/maksymkovalenko/GOIT-FE-COURSE/React/react-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/maksymkovalenko/GOIT-FE-COURSE/React/react-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Route,NavLink}from\"react-router-dom\";import fetchMoviesApi from\"../../services/fetchMoviesApi\";import Cast from\"../cast/Cast\";import Reviews from\"../reviews/Reviews\";import styles from\"../movieDetailPage/movieDetailPage.module.css\";import photo from\"../not-found.png\";var MovieDetailPage=/*#__PURE__*/function(_Component){_inherits(MovieDetailPage,_Component);var _super=_createSuper(MovieDetailPage);function MovieDetailPage(){var _this;_classCallCheck(this,MovieDetailPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={movies:\"\"};_this.handleGoBack=function(){var state=_this.props.location.state;if(state){_this.props.history.push(state.from);return;}_this.props.history.push({pathname:\"/\"});};return _this;}_createClass(MovieDetailPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetchMoviesApi.fetchMovieDetalis(this.props.match.params.movieId).then(function(movies){return _this2.setState({movies:movies});});}},{key:\"render\",value:function render(){var movies=this.state.movies;var _this$props$match=this.props.match,path=_this$props$match.path,url=_this$props$match.url;var poster_path=movies.poster_path,title=movies.title,original_title=movies.original_title,release_date=movies.release_date,vote_average=movies.vote_average,overview=movies.overview,genres=movies.genres;console.log(\"moviDetailPage\",this.props);return/*#__PURE__*/React.createElement(React.Fragment,null,movies&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:styles.btnBack,onClick:this.handleGoBack},\"\\u21A9 Go back\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.container},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:poster_path?\"https://image.tmdb.org/t/p/w500\".concat(poster_path):photo,className:styles.poster,alt:title})),/*#__PURE__*/React.createElement(\"div\",{className:styles.info},/*#__PURE__*/React.createElement(\"p\",{className:styles.film},original_title,\" (\",release_date.substr(0,4),\")\"),/*#__PURE__*/React.createElement(\"span\",{className:styles.average},\" \",\"Vote average: \",vote_average),/*#__PURE__*/React.createElement(\"p\",{className:styles.overview},overview),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{className:styles.genreTitle},\"Genres:\"),genres.map(function(_ref){var id=_ref.id,name=_ref.name;return/*#__PURE__*/React.createElement(\"span\",{key:id,className:styles.genre},name);})),/*#__PURE__*/React.createElement(\"ul\",{className:styles.linkNavigation},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/cast\"),className:styles.navLink},\"Cast\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"\".concat(url,\"/reviews\"),className:styles.navLink},\"Reviews\"))))),/*#__PURE__*/React.createElement(Route,{path:\"\".concat(path,\"/cast\"),component:Cast}),/*#__PURE__*/React.createElement(Route,{path:\"\".concat(path,\"/reviews\"),component:Reviews})));}}]);return MovieDetailPage;}(Component);export{MovieDetailPage as default};","map":{"version":3,"sources":["/Users/maksymkovalenko/GOIT-FE-COURSE/React/react-movies/src/components/movieDetailPage/MovieDetailPage.js"],"names":["React","Component","Route","NavLink","fetchMoviesApi","Cast","Reviews","styles","photo","MovieDetailPage","state","movies","handleGoBack","props","location","history","push","from","pathname","fetchMovieDetalis","match","params","movieId","then","setState","path","url","poster_path","title","original_title","release_date","vote_average","overview","genres","console","log","btnBack","container","poster","info","film","substr","average","genreTitle","map","id","name","genre","linkNavigation","navLink"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport fetchMoviesApi from \"../../services/fetchMoviesApi\";\nimport Cast from \"../cast/Cast\";\nimport Reviews from \"../reviews/Reviews\";\nimport styles from \"../movieDetailPage/movieDetailPage.module.css\";\nimport photo from \"../not-found.png\";\nexport default class MovieDetailPage extends Component {\n  state = {\n    movies: \"\",\n  };\n  componentDidMount() {\n    fetchMoviesApi\n      .fetchMovieDetalis(this.props.match.params.movieId)\n      .then((movies) => this.setState({ movies }));\n  }\n\n  handleGoBack = () => {\n    const { state } = this.props.location;\n\n    if (state) {\n      this.props.history.push(state.from);\n      return;\n    }\n\n    this.props.history.push({\n      pathname: \"/\",\n    });\n  };\n  render() {\n    const { movies } = this.state;\n    const { path, url } = this.props.match;\n\n    const {\n      poster_path,\n      title,\n      original_title,\n      release_date,\n      vote_average,\n      overview,\n      genres,\n    } = movies;\n    console.log(\"moviDetailPage\", this.props);\n\n    return (\n      <>\n        {movies && (\n          <>\n            <button className={styles.btnBack} onClick={this.handleGoBack}>\n              &#8617; Go back\n            </button>\n            <div className={styles.container}>\n              <div>\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                      : photo\n                  }\n                  className={styles.poster}\n                  alt={title}\n                />\n              </div>\n              <div className={styles.info}>\n                <p className={styles.film}>\n                  {original_title} ({release_date.substr(0, 4)})\n                </p>\n                <span className={styles.average}>\n                  {\" \"}\n                  Vote average: {vote_average}\n                </span>\n                <p className={styles.overview}>{overview}</p>\n                <p>\n                  <span className={styles.genreTitle}>Genres:</span>\n                  {genres.map(({ id, name }) => (\n                    <span key={id} className={styles.genre}>\n                      {name}\n                    </span>\n                  ))}\n                </p>\n                <ul className={styles.linkNavigation}>\n                  <li>\n                    <NavLink to={`${url}/cast`} className={styles.navLink}>\n                      Cast\n                    </NavLink>\n                  </li>\n                  <li>\n                    <NavLink to={`${url}/reviews`} className={styles.navLink}>\n                      Reviews\n                    </NavLink>\n                  </li>\n                </ul>\n              </div>\n            </div>\n\n            <Route path={`${path}/cast`} component={Cast} />\n            <Route path={`${path}/reviews`} component={Reviews} />\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nMovieDetailPage.propTypes = {\n  poster_path: PropTypes.string,\n  title: PropTypes.string,\n  original_title: PropTypes.string,\n  release_date: PropTypes.number,\n  vote_average: PropTypes.string,\n  overview: PropTypes.string,\n  genres: PropTypes.array,\n  id: PropTypes.string,\n  name: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}